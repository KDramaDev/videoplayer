class ElementCollection extends Array{ready(t){let r=this.some(t=>null!=t.readyState&&"loading"!=t.readyState);return r?t():this.on("DOMContentLoaded",t),this}isNotNull(){return null!=this[0]}isNull(){return null==this[0]}on(t,r,i){return"function"==typeof r?this.forEach(i=>i.addEventListener(t,r)):this.forEach(n=>{n.addEventListener(t,t=>{t.target.matches(r)&&i(t.target)})}),this}each(t=()=>{}){"function"==typeof t&&this.forEach(r=>t(r))}next(){return this.map(t=>t.nextElementSibling).filter(t=>null!=t)}prev(){return this.map(t=>t.previousElementSibling).filter(t=>null!=t)}removeClass(t){return this.forEach(r=>r.classList.remove(t)),this}addClass(t){return"object"==typeof t?this.each(r=>[...t].forEach(t=>r.classList.add(t))):this.each(r=>r.classList.add(t)),this}text(t){return t?(this.forEach(r=>r.textContent=t),this):this[0].textContent}html(t,r=!1){return t?(this.forEach(i=>!0==r?i.innerHTML=t:i.innerHTML+=t),this):this[0].innerHTML}toText(){return this[0].outerHTML}attr(t,r){return t&&r?(this.forEach(i=>i.setAttribute(t,r)),this):this[0].getAttribute(t)}css(t,r){return this.forEach(i=>i.style.setProperty(t,r)),this}style(t){return this.forEach(r=>r.setAttribute("style",t)),this}data(t,r){let i="object"==typeof t?t[0]:t,n=i?.replace(/(-[a-z])/,t=>t.replace("-","").toUpperCase());if(t&&r)return this.forEach(t=>t.dataset[n]=r),this;if("object"!=typeof t)return this[0].dataset[n];{let s=[];return this.forEach(t=>s.push(t.dataset[n])),s}}show(t=!1,r="block"){return this.forEach(i=>i.setAttribute("style",`display:${r}${!0==t?"!important":""}`)),this}hide(t=!1){return this.forEach(r=>r.setAttribute("style",`display:none${!0==t?"!important":""}`)),this}scroll(t){return this.forEach(r=>r.scrollIntoView({behavior:t})),this}remove(){return this.forEach(t=>t.remove()),this}append(t,r="last"){let i="first"===r?"afterbegin":"beforeend";return this.forEach(r=>r.insertAdjacentHTML(i,t)),this}appendAB(t,r="after"){let i="before"===r?"beforebegin":"afterend";return this.forEach(r=>r.insertAdjacentHTML(i,t)),this}appendAoB(t,r){return this.forEach(i=>i.parentNode.insertBefore(t,"before"===r?i:i.nextSibling)),this}appendTo(t){return this.forEach(r=>r.appendChild(t)),this}insert(t={},r){return this[0].parentNode.insertBefore($create(t),$qa(r)[0]),this}createChild(t){return this.forEach(r=>{if(void 0!==t){var i=$create(t);null!=r&&r.appendChild(i)}}),this}children(){return this.forEach(t=>t.children),this}find(t){let r=this[0],i=r.id?"#"+r.id:"",n=r.className?"."+r.className.split(" ").join("."):"",s=this[0].localName+i+n;return $Qs(s+" "+t)}$find(t){let r=this[0],i=r.id?"#"+r.id:"",n=r.className?"."+r.className.split(" ").join("."):"",s=this[0].localName+i+n;return $Qs(s+" "+t)}match(t){return this[0].matches(t)}clone(t,r,i=!0){return this.forEach(n=>{let s=$qs(t),a=s.cloneNode(i);r?this.appendAoB(a,r):n.appendChild(a)}),this}}class AjaxPromise{constructor(t){this.promise=t}done(t){return this.promise=this.promise.then(r=>(t(r),r)),this}fail(t){return this.promise=this.promise.catch(t),this}always(t){return this.promise=this.promise.finally(t),this}}function $Qs(t){if(("string"==typeof t||t instanceof String)&&"<div>"!==t)return new ElementCollection(...document.querySelectorAll(t));if("<div>"===t){let r=document.createElement("div");return r.querySelectorAll("div"),new ElementCollection(r)}}function appendAOB(t,r,i="before",n){Element.prototype.appendAfterOrBefore=function(t){null!=t&&t.appendAoB(this,i)};var s=$create(t),a=$Qs(r);if(n){var o=!1;$Qs(window).on("scroll",function(){(0!=document.documentElement.scrollTop&&!1===o||0!=document.body.scrollTop&&!1===o)&&(t?.customElement?t?.element.appendAfterOrBefore(a):s.appendAfterOrBefore(a),o=!0)},!0)}else t?.customElement?t?.element.appendAfterOrBefore(a):s.appendAfterOrBefore(a)}function $qs(t){var r=document.querySelector(t);if(null!=r)return r}function $qa(t){return document.querySelectorAll(t)}function getAttr(t,r){return{property:t,value:r}}function $create(t){let r=r=>t?.[r];if(void 0!==t){var i=document.createElement(r("tagName")||"div");return r("class")&&(i.classList=r("class")),r("id")&&(i.id=r("id")),r("style")&&i.setAttribute("style",r("style")),r("html")&&(i.innerHTML=r("html")),r("src")&&(i.src=r("src")),void 0!==r("attr")&&r("attr")?.map(t=>{t?.property!=void 0&&i.setAttribute(t?.property,t?.value||"")}),i}}function StyleSheets(t){if(void 0!==t){var r,i,n,s;function a(t){return t?.replace(/(\r\n|\n|\r|\s\s+)/gi,"")}r="".concat(iF(a(t?.FontFace)),iF(a(t?.xl)),iF(a(t?.lg),`@media only screen and (max-width: ${t?.lgWidth||999.98}px){`,"}"),iF(a(t?.md),`@media only screen and (max-width: ${t?.mdWidth||767}px){`,"}"),iF(a(t?.sm),`@media only screen and (max-width: ${t?.smWidth||480}px){`,"}"),iF(a(t?.ssm),`@media only screen and (max-width: ${t?.ssmWidth||360}px){`,"}")),i=parseInt(1e5*Math.random()),n=$create({tagName:"style"}),s=document.getElementsByTagName("head")[0],n.id=`pkb-blocks-${i}-inline-style`,n.textContent=r,s.appendChild(n)}}function iF(t,r="",i="",n=""){return t?r+t+i:n}function elseIf(t,r,i){return t?iF(i?.p)+r+iF(i?.s):iF(i?.d)}function $scrollToAction(t,r,i=!0){let n=$qa(t),s=t=>r?.[t],a={style:s("style"),class:s("class"),id:s("id")},o=void 0!==a.style;function l(){for(var t=0;t<n.length;t++){var r=n[t];r.getBoundingClientRect().top-window.innerHeight+20<0?(a.class&&r.classList.add(a.class),a.id&&(r.id=a.id),o&&r.setAttribute("style",a.style?.add||"")):!0==i&&(a.class&&r.classList.remove(a.class),a.id&&(r.id=""),o&&r.setAttribute("style",a.style?.rm||""))}}$Qs(window).on("scroll",l),l()}function $animateDelay(t,r=3){let i=String(t)?.replace(/\,\s+/g,",").split(/,(?!\d\d)/),n=$qa(i[0]);return[...Array(n.length).keys()].map(t=>{let s=`#animate-fade-in:nth-child(${t+1})`,a=[...i].map(t=>t+s).join(",");if(n.length>0)return`${a} {-webkit-animation-delay:.${r+t}s;animation-delay:.${r+t}s;}`}).join("")?.toString()}function awaitLoading(t,r=5,i=0){var n,s;let a;n=r,s=i,function r(){if(t?.start){var i=$Qs(t?.selector);t?.useSkip==!0&&i.html(t?.innerHTML||"Skip after "+n--+"s"),setTimeout(t?.start,0)}else n--;if(n<s){if(t?.start){t?.useSkip==!0&&i.html("");var o=setTimeout(t?.ended,0)}else o=setTimeout(t,0);return o}a=setTimeout(r,1e3)}()}function getLabels(t){var r=String(t).toLowerCase();function i(t,i){var n=r?.replace(t,"");return n?.replace(i,"")}function n(t){return r.split(t)[1].split(" ")[0].split("</b>")[0]?.replace(/\$/g," ")}function s(t){return r?.includes(t)}function a(t,r,i){return t.length>0?'<span class="'+r+'">'+utils().upperCapital(t,i)+"</span>":""}function o(t,r,i){return s(t)?a(n(t),r,i):""}function l(t,r,i){return s(t)?[...n(t).split(",")].map(t=>a(t,r,i)).join(""):""}var c=s("{quality}=")||s("{type}=")?'<div class="absolute flex gap-1 z-[5] left-[5px] top-[5px]">'+l("{type}=","type")+l("{quality}=","quality",!0)+"</div>":"",d=t=>a(n("{file}="),"file "+t,!0),u=s("{file}=dub")?d("dub"):s("{file}=sub")?d("sub"):s("{file}=raw")?d("raw"):o("{year}=","release"),h=s("{duration}=")?a(n("{duration}="),"duration"):s("{rating}=")?a(parseFloat(n("{rating}="))+"<sub> / 10</sub>","rating"):o("{episode}=","episode"),p=t=>a(t,"ribbon "+t+" is-visible",!0),f=i(/(?![\{]completed\})./g,""),m=i(/(?![\{]ongoing\})./g,""),y=i(/(?![\{]upcoming\})./g,""),g=i(/(?![\{]khdub\})./g,""),v=i(/(?![\{]cc\})./g,""),b=s("{completed}")&&f.length>0?p("completed"):s("{ongoing}")&&m.length>0?p("ongoing"):s("{upcoming}")&&y.length>0?p("upcoming"):s("{khdub}")&&g.length>0?'<span class="ribbon khmer-dubbed is-visible">និយាយខ្មែរ</span>':s("{cc}")&&v.length>0?'<span class="closed-caption"></span>':"";return[c,u,h,b]}function removeLabels(t){$(function(){$(t).each(function(){var t=$(this);if(contains(t.text().trim(),"quality,type,file,year,duration,episode,rating,cc,completed,khdub,ongoing,upcoming")>0)return t.remove()})})}function vanillaLazy(){window.lazyLoadOptions={callback_loading:function(){e.getAttribute("data-src")},callback_loaded:function(){e.getAttribute("data-src")}},window.addEventListener("LazyLoad::Initialized",function(t){window.lazyLoadInstance=t.detail.instance},!1)}$Qs.get=function({url:t,type:r,data:i,dataType:n,success:s=()=>{}}){let a=(void 0!=i?"?":"")+Object.entries(i||{}).map(([t,r])=>`${t}=${r}`).join("&");return new AjaxPromise(fetch(t+a,{method:r||"GET",headers:{"Content-Type":n}}).then(t=>{if(t.ok)return t.json();throw Error(t.status)}).then(t=>(s(t),t)))};class Useful{isMobile={max:t=>this.MediaQuery("max-width:"+t+"px"),min:t=>this.MediaQuery("min-width:"+t+"px")};url=this.URL();debug=this.inspectDetection;MediaQuery(t=String){return window.matchMedia(`only screen and (${t})`).matches}option(t){return t||""}if(t,r){let i=t=>this.option(t);return t?i(r?.p)+t+i(r?.s):i(r?.d)}elif(t,r,i){let n=t=>this.option(t);return t?n(i?.p)+r+n(i?.s):n(i?.d)}isNumeric(t){var r=typeof t;return("number"===r||"string"===r)&&!Number.isNaN(t-Number.parseFloat(t))}URL(){let t=window.location,r=t.host,i=t.href,n=new URL(i).pathname;return{domain:r,current:i,pathname:n}}toArray(t=String,r=","){var i=[];return String(t).split(r).forEach(t=>i.push(t.trim())),i}contains(t=String,r=String,i="or"){let n=String(t).toLowerCase();var s,a=this.toArray(r);switch(i){case"and":s=a.every(t=>n.match(t));break;case"eq":s=a.some(t=>n===t);break;default:s=a.some(t=>n.match(t))}return s}capitalized(t=String){return String(t).replace(/(^\w{1})|(\s+\w{1})/g,t=>t.toUpperCase())}upperCapital(t,r=!1){return!0==r?t.toUpperCase():this.capitalized(t)}inspectDetection(){!function t(){try{!function t(r){1===(""+r/r).length&&0!==r||(function(){}).constructor("debugger")(),t(++r)}(0)}catch(r){setTimeout(t,5e3)}}()}GetImageSize(t=100){var r={data:"data-src",selector:"img[data-src]"};async function i(){let{width:t,height:i}=await new Promise((t,i)=>{let n=new Image;$Qs(r.selector).isNotNull()&&(n.onload=()=>t({width:n.width,height:n.height}),n.onerror=t=>i(t),n.src=$Qs(r.selector).attr(r.data))});await $Qs(r.selector).attr("width",t).attr("height",i).attr("sizes",`(max-width: ${t}px) 100vw, ${t}px`)}try{setTimeout(i,t)}catch(n){throw Error(n)}}createCJS(){var t="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js";try{t=window.trustedTypes.createPolicy("youtube-widget-api",{createScriptURL:function(t){return t}}).createScriptURL(t)}catch(r){}window.location.host&&function(){var r=document.createElement("script");r.crossOrigin="anonymous",r.integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA==",r.referrerPolicy="no-referrer",r.src=t;var i=document.currentScript;if(i){var n=i.nonce||i.getAttribute("nonce");n&&r.setAttribute("nonce",n)}var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(r,s);var a=document.createElement("script");a.type="text/javascript",a.id="api-detection-script",a.textContent="".concat("function getText() {","  const key = [...Array(10).keys()].reverse().join(document.querySelector('[data-copyright-by]').dataset.copyrightBy);","  const plainText = 'U2FsdGVkX18G80iHNwu+uMmcCgTN3d3+wlxWat9PQHcT2f2zh6sZeNnxI6vkSQepmX2Ls7e9lzFEgVYV9pWH4EArV1rka1FdFzyTbjIZraM=';","  const decrypted = CryptoJS.AES.decrypt(plainText, key);","  return decrypted.toString(CryptoJS.enc.Utf8);","};","var cjs = {text: getText()};","var api = Object.keys({ main:'',archive:'',posts:'',movie:'' });","var api = cjs + '/'+ api.join('/') +'/';");var o=document.getElementsByTagName("script")[0];setTimeout(()=>o.parentNode.insertBefore(a,o),100)}()}Movie(){let t=t=>fetch(api+t,{method:"GET",headers:{Accept:"application/json"}}).then(t=>t.json()).then(t=>{var i={controls:!0,sharing:!1,displaytitle:!1,displaydescription:!0,abouttext:"Buy Me a Coffee",aboutlink:"@mr_ron168",skin:{name:"netflix"},captions:{color:"#FFF",fontSize:16,backgroundOpacity:100,edgeStyle:"uniform"},playlist:[{title:r("title")?r("title"):Qs("meta[property='og:title']"),description:r("title")?r("title"):Qs("meta[property='og:title']"),image:r("thumbnail")?r("thumbnail"):"https://keithandthemovies.files.wordpress.com/2023/03/insidesmall.png",sources:t.sources,captions:t.captions}],advertising:{client:"vast"}};plyerInstance(i)});function r(t){let r=$Qs("#video > div[data-post-name]");return t?r.data(t):r.isNotNull()}var i=setInterval(function(){clearInterval(i),r()&&(new t(r("post-name")),$Qs("#video").remove())},100)}}function utils(){return new Useful}
